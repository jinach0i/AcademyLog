<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<title>Promise 작동 원리 및 순서</title>
	<script>
	let p1 = new Promise(function(resolve, reject){  // 첫 번째 promise 생성
		setTimeout(function(){
			resolve('p1 fulfilled');   // 2초뒤 이행 결정
		},2000); 
	});
	
	let p2 = new Promise(function(resolve, reject){  // 두 번째 promise 생성
		setTimeout(function(){
			resolve('p2 fulfilled');   // 1초뒤 이행 결정
		},1000); 
	});
	
	let iterable = [p1, p2];  // p1, p2 순으로 열거되는 이터러블 생성

	// Promise.all 메서드를 호출하고, 인자 iterable을 전달
	Promise.all(iterable).then(function(value){  
		console.log(value);  // 결과는 ['p1 fulfilled', 'p2 fulfiled']
	},function(reason){      // 모두 이행이므로 호출되지 않음
		console.log(reason);
	});
	</script>
</head>
<body>
	
</body>
</html>